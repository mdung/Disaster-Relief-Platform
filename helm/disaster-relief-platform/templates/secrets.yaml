{{- if .Values.security.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "disaster-relief-platform.fullname" . }}-db-secret
  labels:
    {{- include "disaster-relief-platform.labels" . | nindent 4 }}
type: Opaque
data:
  password: {{ .Values.security.secrets.backend.dbPassword | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "disaster-relief-platform.fullname" . }}-redis-secret
  labels:
    {{- include "disaster-relief-platform.labels" . | nindent 4 }}
type: Opaque
data:
  password: {{ .Values.security.secrets.backend.redisPassword | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "disaster-relief-platform.fullname" . }}-jwt-secret
  labels:
    {{- include "disaster-relief-platform.labels" . | nindent 4 }}
type: Opaque
data:
  secret: {{ .Values.security.secrets.backend.jwtSecret | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "disaster-relief-platform.fullname" . }}-minio-secret
  labels:
    {{- include "disaster-relief-platform.labels" . | nindent 4 }}
type: Opaque
data:
  access-key: {{ .Values.security.secrets.backend.minioAccessKey | b64enc | quote }}
  secret-key: {{ .Values.security.secrets.backend.minioSecretKey | b64enc | quote }}
{{- end }}



